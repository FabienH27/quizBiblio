{% extends 'quizApps/base.html' %}
{% load static %}

{% block body %}
<section class="flex lg:h-screen lg:max-w-6xl 3xl:max-w-screen-3xl items-center mx-auto">
    <section class="lg:flex mx-auto">
        <article class="max-w-lg 3xl:max-w-6xl mx-auto mt-8 text-center lg:text-left">
            <h1 class="text-white text-4xl lg:text-5xl 3xl:text-7xl font-bold text-center lg:text-left">Testez votre
                culture <span class="text-teal-500">littéraire, cinématographique</span>
                et <span class="text-teal-500">musicale</span> !</h1>
            <p
                class="font-display text-white font-normal text-sm 3xl:text-4xl text-center lg:text-left max-w-md 3xl:max-w-3xl my-8">
                Développez vos connaissances sur différents thèmes et testez votre culture générale</p>
            <a href="#button-all-quiz"
                class="text-gray-800 bg-teal-500 px-8 py-3
                    rounded-md hover:bg-white hover:text-teal-500 3xl:text-5xl 3xl:inline-block 3xl:px-14 3xl:py-8">Commencer un quiz</a>
        </article>
        <aside class="mt-20 lg:mt-0 3xl:max-w-screen-3xl mx-auto lg:ml-40">
            <img src="{% static 'quizApps/images/demo2.png' %}" alt="app demo" width="450px">
        </aside>
    </section>
</section>

<section class="bg-gray-700 pt-8 pb-52">
    <div class="container mx-auto">
        <h1 class="text-white text-4xl text-center 3xl:text-7xl 3xl:my-16">Créez et jouez à de nombreux quiz !</h1>
        <article class="font-display p-2 mt-8 mx-auto flex justify-center flex-wrap" id="button-all-quiz">
            {% for quiz in quizzes %}
            <a href="{% url 'play-quiz' quiz.id %}"
                class="bg-gray-800 sm:flex text-center max-w-lg md:text-left p-5 mx-auto my-5 rounded-3xl items-center 3xl:max-w-3xl shadow-2xl card">
                <img src="{{quiz.image}}" alt="image {{quiz.id}}"
                    class="mx-auto md:mx-5 w-28 3xl:w-64 object-scale-down">
                <div class="text-white">
                    <h1 class="text-2xl font-extrabold 3xl:text-6xl">{{quiz}}</h1>
                    <h2 class="text-gray-300 text-lg 3xl:text-4xl 3xl:mt-2">&#x1F516; {{quiz.theme}}</h2>
                    <div class="text-sm my-2 3xl:text-2xl">
                    </div>
                    <div class="flex 3xl:flex-col text-md font-semibold font-title 3xl:text-3xl">
                        <p class="text-teal-500 w-32 3xl:w-auto">{{quiz.question_set.count}} Questions</p>
                        <p class="w-32 3xl:w-auto">Par {{quiz.userquiz_set.first}}</p>
                    </div>
                </div>
            </a>
            {% empty %}
            <p class="text-white">Aucun quiz disponible.</p>
            {% endfor %}
        </article>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();

            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
</script>
{% endblock %}